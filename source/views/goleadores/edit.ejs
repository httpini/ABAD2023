<!DOCTYPE html>
<html lang="en">
    <%- include("../includes/head.ejs")  %> 

<body>
    <%- include("../includes/header.ejs") %>
    <main>
        <form action="/goleadores/torneo/<%=goleador.torneo_id%>/edit/<%=goleador.id%>?m=PUT" method="post">
            <h3>Editar datos de <%= goleador.last_name %> <%= goleador.name %>  </h3>

            <label for="name">Nombre</label>
            <input id="name" name="name" type="text" 
            value="<%= locals.oldData ? oldData.name: goleador.name%>">
            <% if (locals.errors && errors.name) { %>
                <p class="msg-error"><%= errors.name.msg %></p>
            <% } %>  

            <label for="last_name">Apellido</label>
            <input type="text" id="last_name" name="last_name"  
            value="<%= locals.oldData ? oldData.last_name: goleador.last_name%>">
            <% if (locals.errors && errors.last_name) { %>
                <p class="msg-error"><%= errors.last_name.msg %></p>
            <% } %>

            <label for="equipo_id">Equipo</label>
            <select name="equipo_id" id="equipo_id">
                <% equipos.forEach(e => { %>
                    <option value="<%=e.id%>" <%= e.id == goleador.equipo_id? "selected": null %>><%= e.team_name %>
                <% }) %>
            </select>

            <label for="goles">Goles</label>
            <input type="number" id="goles" name="goles"
            value="<%= locals.oldData ? oldData.goles: goleador.goles%>">
            <% if (locals.errors && errors.goles) { %>
                <p class="msg-error"><%= errors.goles.msg %></p>
            <% } %>
            
            <button>Actualizar Datos</button>
        </form>
    </main>
</body>
</html>        